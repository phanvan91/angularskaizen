<div class="content">
  <div class="app-227">
    <h4 class="title-app">Danh sách tồn kho linh kiện xác</h4>
    <div class="row filter-ds">
      <div class="form-group">
        <select2 [width]="200" [options]="options_lk" (valueChanged)="changeLinhKien($event)">
        </select2>
      </div>
    </div>

    <table class="table table-condensed table-hover ng-scope">
      <thead>
      <tr>
        <th>Kho hàng</th>
        <th>Linh kiện</th>
        <th>Đơn vị</th>
        <th>Đơn giá</th>
        <th>Tồn đầu</th>
        <th>Nhập kho</th>
        <th>Xuất sửa chữa</th>
        <th>Xuất khác</th>
        <th>Xuất kho</th>
        <th>Tồn cuối</th>
        <th>Sửa đơn giá</th>
      </tr></thead>
      <tbody>
      <tr ng-repeat="item in data" class="ng-scope" *ngFor="let item of TonKho ; let i = index">
        <td class="ng-binding">{{ item.ten_kho }}</td>
        <td class="ng-binding">{{ item.ten }}</td>
        <td class="ng-binding">{{ item.don_vi }}</td>
        <td class="ng-binding">{{ item.gia_ban | decimalNumber }}</td>
        <td class="ng-binding">{{ item.ton_dau }}</td>
        <td class="ng-binding">{{ item.nhap_kho }}</td>
        <td class="ng-binding">{{ item.xuat_bh }}</td>
        <td class="ng-binding">{{ item.xuat_ngoai_bh }}</td>
        <td class="ng-binding">{{ item.xuat_ngoai_bh + item.xuat_bh }}</td>
        <td class="ng-binding">{{ item.ton_cuoi }}</td>
        <td>
          <a data-toggle="modal" data-target="#edit" (click)="openedit(item,i)"><i class="fa fa-pencil" aria-hidden="true"></i></a>
        </td>
      </tr>
      </tbody>
    </table>
    <ul class="pagination" *ngIf="total_page.length >1">
      <li class="page-item" *ngIf="page >1"><a class="page-link" href="javascript:void(0)" (click)="show_page(page-1)">Previous</a></li>
      <li class="page-item" *ngFor="let p of total_page"><a class="page-link" href="javascript:void(0)" (click)="show_page(p)">{{p}}</a></li>
      <li class="page-item"  *ngIf="page < pages"><a class="page-link" href="javascript:void(0)" (click)="show_page(page+1)">Next</a></li>
    </ul>

  </div>
</div>

<div class="modal fade" id="edit">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Sửa đơn giá</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <form [formGroup]="editform" (submit)="onSubmitEditData($event)">

        <div class="modal-body">
          <input type="hidden" formControlName="id">
          <div class="form-group">
            <label for="edit_id_accessories">Đơn giá:</label>
            <input type="text" class="form-control" id="edit_id_accessories" formControlName="gia_ban">
          </div>
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
            <button type="submit" class="btn btn-primary">Cập nhật</button>
          </div>

        </div>
      </form>
    </div>
  </div>
</div>
